# ğŸ“¦ å—ç†å·¥æ•™åŠ¡å¤„è¯¾ç¨‹é‡‡é›†åŠ©æ‰‹ V2

> æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•ä½¿ç”¨ `getKCDG.js` è„šæœ¬é‡‡é›†è¯¾ç¨‹å¤§çº²æ˜ å°„æ•°æ®
> 
> âš ï¸ **æç¤ºï¼šæ™®é€šç”¨æˆ·æ— éœ€é‡‡é›†æ•°æ®ï¼Œå¢å¼ºè„šæœ¬å·²å†…ç½® 2022 ç‰ˆå¤§çº²çš„æœ€æ–°ç‰ˆæœ¬**
>

---

## ğŸ“¥ æ•°æ®é‡‡é›†è¿‡ç¨‹

ç”±äºè¯¾ç¨‹æ€»åº“æ¶æ„è¾ƒæ—§ï¼Œéƒ¨åˆ†åŠŸèƒ½éœ€è¦å…¼å®¹æ€§è°ƒæ•´ã€‚`getKCDG.js` å·²å¯¹å…¶åšå…¼å®¹å¤„ç†ï¼Œå¯åœ¨ç°ä»£æµè§ˆå™¨ä¸­ç¨³å®šè¿è¡Œã€‚

### é‡‡é›†æ­¥éª¤

1. å…ˆä»ç™»é™†æ•™åŠ¡ç³»ç»Ÿï¼Œå†è®¿é—®[è¯¾ç¨‹æ€»åº“](http://202.119.81.112:9080/njlgdx/pyfa/kcdgxz)é¡µé¢
2. é…ç½®å­—æ®µæ˜¾ç¤ºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![å­—æ®µé…ç½®](https://enhance.njust.wiki/docs/static/kczk0.png)
![å­—æ®µé€‰æ‹©](https://enhance.njust.wiki/docs/static/kczk.png)

3. ç‚¹å‡»â€œç¡®å®šâ€ä¿å­˜è®¾ç½®  
4. è‹¥æç¤ºåœ°å€è·³è½¬ï¼Œç‚¹å‡»ç¡®è®¤è¿›å…¥çœŸå®é‡‡é›†é¡µé¢ï¼š

![è·³è½¬æç¤º](https://enhance.njust.wiki/docs/static/kczk3.png)

5. ç‚¹å‡»â€œå¼€å§‹é‡‡é›†â€ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨æå–è¯¾ç¨‹æ•°æ®å¹¶è¿›è¡Œç»“æ„åŒ–å¤„ç†ï¼š

![é‡‡é›†ä¸­](https://enhance.njust.wiki/docs/static/kczk4.png)

1. æ•°æ®é‡‡é›†å®Œæˆåï¼Œå¯å¯¼å‡ºä¸º CSV æ ¼å¼ï¼š

![å¯¼å‡ºç»“æœ](https://enhance.njust.wiki/docs/static/kczk5.png)

7.é€šè¿‡[CSV è¯¾ç¨‹æ•°æ®ç­›é€‰å·¥å…·](https://enhance.njust.wiki/tools/csv2json.html)å°† csv ä¸­çš„æœ‰ç”¨æ•°æ®å¯¼å‡ºä¸º JSON æ ¼å¼ï¼š

![](https://enhance.njust.wiki/docs/static/kcdg_gen_json.png)

---

### æ›´æ–°æ•°æ®æ–‡ä»¶

å¦‚æœä½ å‘ç°å·²æœ‰çš„ `kcdg.json` ç‰ˆæœ¬å·²è¿‡æ—¶ï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œ

1. ä½¿ç”¨è„šæœ¬é‡‡é›†è¯¾ç¨‹æ•°æ®
2. å¯¼å‡ºä¸º `.csv`
3. é€šè¿‡[CSV è¯¾ç¨‹æ•°æ®ç­›é€‰å·¥å…·](https://enhance.njust.wiki/tools/csv2json.html)ç­›é€‰å‡ºå·²ä¸Šä¼ å¤§çº²çš„è¯¾ç¨‹
4. å¯¼å‡ºç»“æ„åŒ–çš„ JSON æ ¼å¼ ```kcdg.json``` å¦‚ä¸‹ï¼š

```json
[
  {
    "id": "572BF3AE025044A7BDD7AF953460102C",
    "course_code": "161803E1"
  },
  ......
]
```

- å°†æ–°ç”Ÿæˆçš„ json ä¸Šä¼ è‡³æœåŠ¡å™¨

    ç„¶åå°†ç”¨æˆ·è„šæœ¬ä¸­çš„åˆ†ç±»æ•°æ®åœ°å€æ›¿æ¢ä¸ºæ–°çš„é“¾æ¥ï¼Œä¾‹å¦‚ï¼š

    ```js
        const OUTLINE_URL = 'https://fastly.jsdelivr.net/gh/NJUST-OpenLib/NJUST-JWC-Enhance@latest/data/kcdg.json'
    ```

- æˆ–ï¼Œæäº¤ Pull Request æ›´æ–°æœ¬é¡¹ç›®çš„ `data/kcdg.json`
